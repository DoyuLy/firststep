<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>运动特效</title>
    <style type="text/css">
        *{ margin:0; padding:0; border:0;}
        body{ background:pink;}
        #div1{ width:100px; height:200px; position:absolute; background: silver; left:-100px; top:50px; }
        #div1 span{ width:20px; height:60px; line-height:20px; text-align:center; left:100px; top:70px; background:orange; position:absolute;}
    </style>
    <script type="text/javascript">
         //注意：1.关闭已有定时器 2.运动和停止隔离
        var oDiv = null;
        //var oBtn = null;
        var iSpeed = 0;
        var timer = null;
        window.onload = function () {

            oDiv = document.getElementById('div1');

            oDiv.onmouseover = function () {
                startMove(0);
            }
            oDiv.onmouseout = function () {
                startMove(-100);
            }
            /*
            oBtn = document.getElementById('btn1');
            oBtn.onclick = function () {
            //alert(oBtn.offsetLeft);//0px 指距离父级内部边缘的距离(不包含border)
            //alert(oBtn.clientLeft); //3px  指的是border
            //alert(oBtn.clientHeight);
            //alert(oBtn.clientWidth);
            startMove(iSpeed);
            }
            */
        }
        function startMove(iTarget) {

            clearInterval(timer); //每次执行前清空,不然每次开一个定时器
            if (iTarget > (oDiv.offsetLeft)) {
                iSpeed = (iTarget - oDiv.offsetLeft) / 8; //10;
            }
            else {
                iSpeed = -(iTarget - oDiv.offsetLeft) / 8;
            }

            timer = setInterval(function () {
                if (oDiv.offsetLeft >= iTarget) {
                    clearInterval(timer)
                }
                else {
                    oDiv.style.left = oDiv.offsetLeft + iSpeed + 'px'; //向前10px
                    
                }
            }, 20);
        }
    </script>
</head>
<body>
    
    <div id='div1'>
        <span>分享到</span>
    </div>
    <!--<input type="button" id='btn1' value='开始运动' />-->
</body>
</html>
